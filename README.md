__README__
==========

Данное приложение представляет собой блог постов, с возможностями создания, удаления и редактирования постов с 
изображением и тегами; создания, удаления и редактирования комментариев; проставления лайков; фильтрации 
постов по тегам и разбиения постов по страницам.

Использованный стек: Java SE 21, Spring Framework, JPA, Maven, Lombok, Thymeleaf, H2, JUnit 5, Mockito.

Установка и запуск:
-----------------------------------

Для корректной работы приложения на устройстве должны иметься установленные программы: 
Java не ниже версии 21 и сервер Tomcat.

Для установки и запуска приложения нужно сделать следующее: 

1. Склонировать репозиторий.
2. Осуществить сборку приложения (через IDE или командой ```./mvnw clean package``` в директории склонированного 
репозитория ```blog-app```).
3. Скопировать файл ```.war``` из директории ```blog-app\target``` в директорию ```webapps```  корневой директории 
сервера Tomcat (например, ```apache-tomcat-11.0.2\webapps```).
4. Запустить Tomcat с помощью ```startup.bat``` (для Windows) или ```startup.sh``` (для Linux) в директории 
```bin``` корневой директории сервера Tomcat.
5. Открыть в браузере ```http://localhost:8080/manager/html``` и открыть в нем приложение ```blog-app```, приложение 
само перенаправит на страницу ленты постов ```http://localhost:8080/blog-app/posts```. Или  можно напрямую 
открыть ```http://localhost:8080/blog-app/posts``` или ```http://localhost:8080/blog-app``` 
(автоматически сработает редирект) в браузере. Порт может быть другим, если он был изменен в Tomcat.

Функционал приложения:
------------------------------------------

**Лента постов**

На странице ```http://localhost:8080/blog-app/posts``` содержится лента всех постов, отсортированных по времени их добавления 
(последние сверху). 

**Сортировка и пагинация постов**

На странице ленты постов посты можно отсортировать по тегу в селекторе (или выбрать все имеющиеся посты, 
в том числе без тегов). По умолчанию выбраны все посты (в том числе без тегов). Также на странице ленты постов можно 
включить пагинацию (по 10, 20, 50 постов на странице) соответствующих кнопок.  

**Превью постов в ленте**

Каждый пост в ленте постов содержит превью с названием поста, изображением из поста (если оно было добавлено), первым 
абзацем текста поста (не более 3 строк) и тегами поста. Название поста является ссылкой, по которой можно перейти 
на страницу конкретного поста.

**Добавление поста**

Для добавления поста, внизу страницы ленты постов нужно нажать на кнопку ```Добавить пост``` и заполнить
появившиеся поля названия и текста (обязательно), поле тегов (опционально) и 
загрузить одно изображение с помощью кнопки ```Выберите файл``` (опционально). 

Абзацы в тексте можно делать с помощью пустой строки. 

Если тегов несколько, их нужно писать через запятую. Тег из пробелов не будет учитываться, 
пробелы внутри тега разрешены, пробелы в начале и конце обрезаются. 

Изображение может быть формата ```.jpeg```, ```.jpg```, ```.png``` и размером 
не более 3 мегабайт. 

После заполнения всей нужной информации, пост следует сохранить, нажав на 
кнопку ```Сохранить пост```.

**Переход к посту и возврат к ленте**

На конкретный пост можно перейти, нажав на название этого поста в ленте. На ленту постов можно
вернуться, нажав на кнопку ```Назад к ленте постов``` на странице поста.

**Страница поста**

Страница каждого поста содержит его название, полный текст поста, теги (если они были добавлены), 
изображение (если оно было добавлено), комментарии (если они был добавлены), лайки. 

**Редактирование поста**

Для редактирования поста нужно нажать на кнопку ```Редактировать пост``` на 
странице поста. После этого внизу появятся поля для заполнения. Название и текст обязательны 
к заполнению, теги и изображение - нет. 

Название, текст, теги и изображение всегда добавляются заново при редактировании. Т.е. существующие в посте теги 
можно заменить на новые, заполнив поле, или удалить, если поле не заполнить. Существующее изображение можно 
заменить на другое, если загрузить новый файл, или удалить, если ничего не загружать. 

После заполнения всей нужной информации, пост следует сохранить, нажав на кнопку ```Сохранить пост```.

**Удаление поста**

Для удаления поста нужно нажать на кнопку ```Удалить пост``` на странице поста.
После этого произойдет перенаправление на ленту постов.

**Добавление комментария**

На странице поста можно добавить комментарий, заполнив поле текста, и нажав ```Добавить комментарий```. 

**Редактирование комментария**

Комментарий можно редактировать, нажав на него. В появившемся поле нужно ввести текст (комментарий перезаписывается 
полностью). Сохранение осуществляется нажатием Ctrl+Enter.

**Удаление комментария**

Комментарий можно удалить, нажав на кнопку ```Удалить комментарий``` рядом с комментарием.

**Проставление лайков**

На странице поста посту можно ставить лайки, нажимая на кнопку ```Поставить лайк```. Каждое 
нажатие увеличивает количество лайков на 1.

Тесты
------------------------------------------

К приложению прилагаются интеграционные и юнит тесты.